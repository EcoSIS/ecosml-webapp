<style include="shared-styles">
  :host {
    display: block;
  }

  .layout {
    display: flex;
    align-items: flex-end;
  }

  .layout input {
    width: 100%;
  }

  .period {
    font-size: 40px;
  }

  paper-button {
    font-size: 14px;
    color: var(--light-secondary-color);
  }
</style>

<h2 class="uheader lightblue" style="display:flex; align-items: center">
  <div style="flex:1">Releases</div>
  <div>
    <paper-button hidden$="[[creating]]" on-click="_toggleCreate"><iron-icon icon="add"></iron-icon> Create</paper-button>
    <paper-button hidden$="[[!creating]]" on-click="_toggleCreate">Cancel</paper-button>
  </div>
</h2>

<div hidden$="[[!creating]]">
  <div class="layout">
    <div>
      <div>Major</div>
      <input type="number" id="major" placeholder="1" on-change="_onInputChange" />
    </div>
    <div class="period">.</div>
    <div>
      <div>Minor</div>
      <input type="number" id="minor" placeholder="0" on-change="_onInputChange" />
    </div>
    <div class="period">.</div>
    <div>
      <div>Patch</div>
      <input type="number" id="patch" placeholder="0" on-change="_onInputChange" />
    </div>
  </div>
  <div>
    <input type="text" placeholder="Release description" id="description" style="width: 100%" />
  </div>

  <div style="text-align: right">
    <a href="https://semver.org/" target="_blank">Versioning Help</a>
  </div>
  <div><paper-button on-click="_onCreateClicked" disabled$="[[saving]]">Create Release</paper-button></div>
</div>

<div hidden$="[[creating]]">
  <div><a href="[[package.htmlUrl]]/releases" target="_blank">View on GitHub</a></div>
  <template is="dom-repeat" items="[[releasesInverse]]">
    <div>
      <h4>[[item.name]]</h4>
      <div>[[item.body]]</div>
      <div>Published [[item.publishedAt]]</div>
      <div><a href$="[[item.zipballUrl]]">Download</a></div>
    </div>
  </template>
</div>
