<style include="shared-styles">
  :host {
    display: block;
  }
  app-title-card {
    margin-bottom: 25px;
  }
  paper-button {
    color: var(--default-primary-color);
  }
  paper-button:hover {
    background: var(--default-background-color);
  }
  h2 {
    margin : 0 0 5px 0;
  }
  #unsavedMsg paper-button {
    color: var(--inverse-text-color);
    border: 1px solid var(--inverse-text-color);
  }
  #unsavedMsg paper-button:hover {
    color: var(--default-primary-color);
    border: 1px solid var(--default-primary-color);
  }
  #savedToast {
    --paper-toast-background-color: var(--default-primary-color);
    --paper-toast-color: var(--inverse-text-color);
  }
</style>

<paper-toast id="savingToast" duration="0">
  <div id="unsavedMsg">
    You have unsaved changes
    <paper-button on-click="_onSaveChangesClicked">Save</paper-button>  
  </div>
  <div id="savingMsg">
    Saving...
  </div>
</paper-toast>
<paper-toast id="savedToast">
  Package Data Saved!
</paper-toast>

<div class="container">
  <div class="narrow-container">
    <h1>[[currentAction]] Package</h1>

    <app-title-card id="basicInformation">
      <div slot="header">
        Basic Information
      </div>
      <div slot="content">
        <paper-input 
          id="name" 
          label="Name" 
          on-keyup="_updateNamePreview" 
          on-change="_updateNamePreview" 
          hidden$="[[!creating]]">
        </paper-input>
        <div hidden$="[[!creating]]">[[namePreview]]</div>
        <div hidden$="[[creating]]" class="help">Package Name</div>
        <h2 hidden$="[[creating]]">[[namePreview]]</h2>

        <paper-input id="overview" label="[[schema.overview.label]]" on-change="_onDataChange"></paper-input>
        <div class="help">[[schema.overview.description]]</div>

        <div style="text-align: right">
          <paper-button 
            hidden$="[[!creating]]" 
            id="createBtn"
            on-click="_onCreateBtnClicked">Create
          </paper-button>
        </div>
      </div>
    </app-title-card>

    <app-title-card id="details" hidden$="[[creating]]">
      <div slot="header">
        Package Details
      </div>
      <div slot="content">
        <app-markdown-editor label="Description" id="description" on-markdown-change="_onDataChange"></app-markdown-editor>
        <div class="help">[[schema.description.description]]</div>

        <app-keyword-input id="keywords" label="Keywords.  Comma Separate" on-keyword-change="_onDataChange"></app-keyword-input>
        <div class="help">[[schema.keywords.description]]</div>
      </div>
    </app-title-card>

    <div hidden$="[[creating]]">
      <paper-button on-click="_onDeleteBtnClicked">Delete Package</paper-button>
    </div>
  </div>
</div>